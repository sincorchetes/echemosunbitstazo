
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://sincorchetes.github.io/echemosunbitstazo/observa-telecom/item/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Configuración Router BHS-RTA, Home Station - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuracion-router-bhs-rta-home-station" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuración Router BHS-RTA, Home Station
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../01.curso-de-python-imprimir-valores-y-funciones/item/" class="md-tabs__link">
      Introduction
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about.md" class="md-tabs__link">
      None
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://example.com/" class="md-tabs__link">
      Issue Tracker
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../01.curso-de-python-imprimir-valores-y-funciones/item/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about.md" class="md-nav__link">
        None
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://example.com/" class="md-nav__link">
        Issue Tracker
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="configuracion-router-bhs-rta-home-station">Configuración Router BHS-RTA, Home Station</h1>
<h1 id="introduccion">Introducción</h1>
<p><img alt="" src="../router/fisico.jpg" title="Router Observa Telecom" /></p>
<p>Hemos rescatado este artículo de nuestro viejo blog publicado el 19 de marzo del 2014, debido al alto tráfico que recibía. En este artículo vamos a ver cómo acceder a la interfaz Web original del router que vamos a comentar y saltarnos la interfaz que nos impone Movistar en este modelo de router.</p>
<p>Como podemos ver en la imagen, podemos ver cómo es el portal Web impuesto por Movistar, y en la segunda, ver la interfaz original del router.</p>
<p>[owl-carousel items=1 margin=10 loop=true autoplay=true autoplayHoverPause=true nav=true]
<img alt="" src="../router/mov_web.png" title="Interfaz Web de Movistar" />
<img alt="" src="../router/web_org.png" title="Login de Observa Telecom" />
<img alt="" src="../router/web_org_2.png" title="Inicio del portal Web original" />
[/owl-carousel]</p>
<p>Para llegar hasta ahí, hemos tenido que ir mirando cómo encontrar el portal Web, ya que tiene una redirección del puerto 80 hacia Movistar, entonces, ¿Cómo accedemos a la interfaz Web del router? Pues mediante otro puerto. Hemos descubierto, que corre bajo el puerto 8000 después de conectarnos via Telnet como os explicaremos más abajo.
Pero antes de acceder, tendremos que averiguar ¿Qué IP tiene nuestro router?</p>
<h1 id="como-identificar-la-ip-de-nuestro-router">¿Cómo identificar la IP de nuestro router?</h1>
<p>Bastará con identificar la puerta de enlace a través de un intérprete de comandos como <code>bash(1)</code>, <code>sh(1)</code>, <code>cmd.exe</code>... </p>
<p>Para los que no lo sepan, la puerta de enlace es el dispositivo que tenemos en una red que intercomunica con redes distintas. Es decir, cuando un dispositivo está dentro de un segmento de red y quiere enviar información, lo que hace es enviar un paquete ARP (<em>Address Resolution Protocol</em> o protocolo de resolución de direcciones) que permite determinar las IPs y MAC de los equipos que hay dentro del segmento de red. Cuando nosotros enviamos un paquete a un dispositivo que no se encuentra dentro de la red, se envía a la puerta de enlace y este dispositivo, que es generalmente un router (<em>ya que hay switches que trabajan en L3</em>), se encarga de gestionarlo para que el otro dispositivo de la red X pueda recibirlo de la forma más rápida o estable posible, esto recibe el nombre de enrutar.</p>
<p>Una explicación sencilla, estamos en la sala de espera de un hospital (<em>segmento de red</em>) y hay un(a) informador(a). El trabajo de esta persona, es coger la información de los médicos que se encuentran en sus consultas (<em>varios segmentos de red</em>), para, posteriormente, notificar lo que tiene x paciente a sus familiares, pareja, amig@s... que están en la sala de espera. </p>
<p>Para poder identificar el "<em>gateway</em>" basta con abrir una consola y ejecutar una serie de comandos.</p>
<h2 id="linux">Linux</h2>
<p>En cualquier distribución, abrimos un intérprete de comandos y ejecutamos:</p>
<pre><code>$ ip route
</code></pre>
<p>Este comando permite visualizar las rutas que hay configuradas, sean dinámicas o estáticas. </p>
<p><em>Nota: Las rutas son caminos por dónde pasarán los paquetes y pueden ser estáticos o dinámicos. Los explicaremos en otros posts, cuando estén elaborados los enlazaremos directamente.</em></p>
<p>Salida similar:</p>
<pre><code>default via 192.168.1.1 dev wlo1 proto static metric 600 
192.168.1.0/24 dev wlo1 proto kernel scope link src 192.168.1.51 metric 600 
</code></pre>
<ul>
<li>Nos dice que la puerta de enlace es la: <code>192.168.1.1</code>, es decir, que todos los paquetes ajenos a la red 192.168.1.0/24 pasarán por la interfaz <code>wlo1</code> con dicha IP.</li>
<li><code>192.168.1.51</code> es nuestra IP en este segmento de red.</li>
</ul>
<h2 id="windows">Windows</h2>
<p>Hay múltiples formas de acceder al <code>cmd.exe</code></p>
<ul>
<li>XP: <em>Inicio -&gt; Ejecutar...</em></li>
<li>7: _Inicio -&gt; Cuadro de texto "Buscar programas y archivos" -&gt; Escribimos cmd.exe</li>
<li>8: <em>Tecla Inicio -&gt; cmd.exe</em></li>
<li>10: <em>Cuadro de búsqueda del escritorio</em> -&gt; Escribimos cmd.exe</li>
</ul>
<p>Ejecutamos:</p>
<pre><code>&gt; ipconfig
</code></pre>
<p>Salida como esta:</p>
<pre><code>Microsoft Windows [Versión 6.1.7601]

Copyright (c) 2009 Microsoft Corporation. Reservados todos los derechos.

C:\Users\sincorchetes&gt;ipconfig

Configuración IP de Windows

Adaptador de Ethernet Conexión de área local:

   Dirección IPv4. . . . . . . . . . . . . . : 192.168.1.21

   Máscara de subred . . . . . . . . . . . . : 255.255.255.0

   Puerta de enlace predeterminada . . . . . : 192.168.1.1
</code></pre>
<p>Ya tenemos identificada la puerta de enlace.</p>
<h1 id="como-conectarnos-al-router">¿Cómo conectarnos al router?</h1>
<p>Básicamente, se accede mediante via <code>telnet(1)</code>, si, resulta muy conmovedor que se utilice uno de los protocolos más inseguros para conexiones remotas en los routers de Movistar y no OpenSSH (<em>Open Secure SHell</em>) que es el protocolo utilizado hoy en día para esto. Tenemos que tener <code>telnet(1)</code> en nuestro sistema, si no lo tenemos, podemos echarle un <em>bitstazo</em> al post anterior "[Instalando Telnet en nuestro sistema]"(https://echemosunbitstazo.es/blog/instalar-telnet?target=_blank).</p>
<p>Por ejemplo, utilizando el ejemplo anterior:
<code>$ telnet 192.168.1.1</code></p>
<p>Y ya estaríamos dentro del router, para saber qué versión del sistema está utilizando, basta con ejecutar:</p>
<pre><code>$ cat /proc/version
</code></pre>
<p>Os saldrá algo tal que así:</p>
<p><img alt="" src="../router/uname.png" title="Router Observa Telecom" /></p>
<p>Para ver los puertos que tenemos abiertos en él, basta con hacer:</p>
<pre><code>$ cat /var/webport 
</code></pre>
<p>Para ver los puertos que hay abiertos en el router, a nosotros nos salio una salida como esta:</p>
<pre><code>ipv6:80
ipv6:8000
ipv6:443
ipv6:7547
</code></pre>
<p>Ambos puertos pueden accederse utilizando la dirección IPv4 que tiene el router, es curioso que no lo liste por ipv4 o tenga ipv4, ipv6.</p>
<ul>
<li>80 --&gt; Es un puerto que entra dentro de los puertos bien conocidos reservados para servicios y aplicaciones (van del 0-1023) y su uso queda reservado para el protocolo de intercambio de HyperTexto (HTTP), es decir, servidores Web. </li>
<li>8000 --&gt; Se encuentra dentro de los llamados <em>puertos registrados</em> con un rango que van desde el puerto número 1024-49151, estos puertos se asignan a procesos o aplicaciones de usuarios. Éste en concreto según la lista de puertos registrados se hace uso para iRDMI, pero se ve que aquí lo utilizan de forma errónea para utilizarlo como un 80, si fuese un puerto alternativo, debería ser 8080 que es como debe ser usado.</li>
<li>443 --&gt; Es un puerto como el8 80, entra dentro de los puertos bien conocidos y su uso es para conexiones cifradas mediante certificado SSL a través del protocolo HTTP</li>
<li>7547 --&gt; Es un estándar aplicado por la DSL Forum en un documento llamado TR-069, se utiliza para gestionar de forma remota la configuración y administración del router. Por lo general, los técnicos <em>Helpdesk</em> que te ayudan a solucionar los problemas de averías, hacen uso de este puerto para acceder a tu dispositivo.</li>
</ul>
<h1 id="referencias">Referencias</h1>
<ul>
<li>Google </li>
<li>CCNA - Listado de puertos (.pdf)</li>
<li>TR-069 - <a href="https://es.wikipedia.org/wiki/TR-069?target=_blank">Wikipedia</a></li>
<li>TR-069 - <a href="https://www.broadband-forum.org/standards-and-software/technical-specifications/tr-069-files-tools?target=_blank">Oficial</a></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>